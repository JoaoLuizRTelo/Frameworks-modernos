<!-- JoÃ£o Luiz Rodighero TelÃ³, 	20230005023, 2025/2 
https://github.com/JoaoLuizRTelo/Frameworks-modernos
-->


<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <title>Biblioteca Digital - CatÃ¡logo de Livros</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div id="app">
    <h1>ðŸ“š Biblioteca Digital - CatÃ¡logo de Livros</h1>

    <!-- Equipment Form -->
    <div class="form-section">
      <h2 class="form-title">{{ isEditing ? 'Editar Livro' : 'Adicionar Novo Livro' }}</h2>
      <form @submit.prevent="isEditing ? salvarEquipamento() : adicionarEquipamento()">
        <div class="form-grid">
          <div class="form-group">
            <label for="nome">TÃ­tulo do Livro *</label>
            <input type="text" id="nome" v-model="form.nome" :aria-label="'TÃ­tulo do livro'" required />
          </div>

          <div class="form-group">
            <label for="categoria">GÃªnero LiterÃ¡rio *</label>
            <select id="categoria" v-model="form.categoria" :aria-label="'GÃªnero do livro'" required>
              <option value="">Selecione um gÃªnero</option>
              <option value="FicÃ§Ã£o">FicÃ§Ã£o</option>
              <option value="Romance">Romance</option>
              <option value="MistÃ©rio">MistÃ©rio</option>
              <option value="Fantasia">Fantasia</option>
              <option value="Biografia">Biografia</option>
              <option value="HistÃ³ria">HistÃ³ria</option>
              <option value="CiÃªncia">CiÃªncia</option>
              <option value="Autoajuda">Autoajuda</option>
            </select>
          </div>

          <div class="form-group">
            <label for="patrimonio">ISBN *</label>
            <input type="text" id="patrimonio" v-model="form.patrimonio" placeholder="Ex: 978-3-16-148410-0"
              :aria-label="'CÃ³digo ISBN'" required />
          </div>

          <div class="form-group">
            <label for="status">Status *</label>
            <select id="status" v-model="form.status" :aria-label="'Status do livro'" required>
              <option value="">Selecione o status</option>
              <option value="disponÃ­vel">DisponÃ­vel</option>
              <option value="emprestado">Emprestado</option>
            </select>
          </div>
        </div>

        <div>
          <button type="submit" class="button" :disabled="!isFormValid"
            :aria-label="isEditing ? 'Salvar alteraÃ§Ãµes no livro' : 'Adicionar novo livro'">
            {{ isEditing ? 'Salvar AlteraÃ§Ãµes' : 'Adicionar Livro' }}
          </button>

          <button v-if="isEditing" type="button" class="button button-secondary" @click="cancelarEdicao"
            aria-label="Cancelar ediÃ§Ã£o">
            Cancelar
          </button>
        </div>
      </form>
    </div>

    <!-- Filters -->
    <div class="filters">
      <div class="form-group">
        <label for="filtroCategoria">Filtrar por GÃªnero</label>
        <select id="filtroCategoria" v-model="filtros.categoria">
          <option value="">Todos os gÃªneros</option>
          <option value="FicÃ§Ã£o">FicÃ§Ã£o</option>
          <option value="Romance">Romance</option>
          <option value="MistÃ©rio">MistÃ©rio</option>
          <option value="Fantasia">Fantasia</option>
          <option value="Biografia">Biografia</option>
          <option value="HistÃ³ria">HistÃ³ria</option>
          <option value="CiÃªncia">CiÃªncia</option>
          <option value="Autoajuda">Autoajuda</option>
        </select>
      </div>

      <div class="form-group">
        <label for="filtroStatus">Filtrar por Status</label>
        <select id="filtroStatus" v-model="filtros.status">
          <option value="">Todos os status</option>
          <option value="disponÃ­vel">DisponÃ­vel</option>
          <option value="emprestado">Emprestado</option>
        </select>
      </div>
    </div>

    <!-- Book List -->
    <div class="equipment-list">
      <!-- List count -->
      <div v-if="equipamentosFiltrados.length > 0" class="equipment-count">
        Exibindo {{ equipamentosFiltrados.length }} livro(s)
      </div>

      <!-- Equipment Table -->
      <table v-if="equipamentosFiltrados.length > 0" class="equipment-table">
        <thead>
          <tr>
            <th>TÃ­tulo</th>
            <th>GÃªnero</th>
            <th>ISBN</th>
            <th>Status</th>
            <th>AÃ§Ãµes</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="equipamento in equipamentosFiltrados" :key="equipamento.id">
            <td>{{ equipamento.nome }}</td>
            <td>{{ equipamento.categoria }}</td>
            <td>{{ equipamento.patrimonio }}</td>
            <td>
              <span class="status-badge" :class="'status-' + equipamento.status">
                {{ equipamento.status }}
              </span>
            </td>
            <td>
              <div class="actions">
                <button class="button button-small" @click="editarEquipamento(equipamento)"
                  :aria-label="'Editar livro ' + equipamento.nome">
                  Editar
                </button>
                <button class="button button-small button-danger" @click="removerEquipamento(equipamento.id)"
                  :aria-label="'Remover livro ' + equipamento.nome">
                  Remover
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- Empty State -->
      <div v-else class="empty-state">
        <div class="empty-state-icon">ï¿½</div>
        <h3>Nenhum livro encontrado</h3>
        <p v-if="equipamentos.length === 0">
          Comece adicionando seu primeiro livro usando o formulÃ¡rio acima.
        </p>
        <p v-else>
          Nenhum livro corresponde aos filtros selecionados. Tente ajustar os filtros ou adicionar novos
          livros.
        </p>
      </div>
    </div>
  </div>
  </div>

  <script src="script.js"></script>
  </script>
</body>

</html>